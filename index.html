<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Evil Pac</title>
    <link rel="icon" href="/vite.svg" />
  </head>
  <body>
    <div id="layout">
      <aside id="sidebar-left">
        <h1>Evil Pac</h1>
        <section class="card">
          <h2>Status</h2>
          <div class="row"><span>Level</span><strong id="hud-level">-</strong></div>
          <div class="row"><span>Pellets</span><strong id="hud-pellets">-</strong></div>
          <div class="row"><span>Stamina</span><strong id="hud-stamina">-</strong></div>
          <div class="row"><span>Sound</span><strong id="hud-sound">-</strong></div>
        </section>
        <section class="card">
          <h2>Ghost Order</h2>
          <div id="hud-ghosts" class="ghost-list">-</div>
        </section>
        <section class="card" id="lb-card">
          <h2>Leaderboard</h2>
          <ol id="hud-leaderboard" style="padding-left:18px; margin:6px 0 0 0;">
            <li style="color:var(--muted)">Loading…</li>
          </ol>
        </section>
        <section class="card small">
          <h2>Controls</h2>
          <ul>
            <li>Move: Arrow Keys / D‑Pad</li>
            <li>Ability: Q</li>
            <li>Pause: ESC</li>
            <li>Sound: M</li>
            <li>Level: - / +</li>
          </ul>
        </section>
      </aside>
      <main id="center">
        <div id="game-root"></div>
      </main>
      <aside id="sidebar-right">
        <section class="card">
          <h2>Tips</h2>
          <ul>
            <li>Power pellets trigger berserk.</li>
            <li>W rotates warp arrows (L8+).</li>
            <li>D toggles debug overlay.</li>
          </ul>
        </section>
        <section class="card small">
          <h2>Next</h2>
          <p>Mini‑map or run stats can live here.</p>
        </section>
      </aside>
    </div>
    <script type="module" src="/src/main.ts"></script>
    <style>
      :root {
        --bg: #0f1113;
        --panel: #1a1d21;
        --text: #cfe8e5;
        --muted: #7ea9a3;
        --accent: #00ff99;
      }
      html, body { height: 100%; margin: 0; background: var(--bg); color: var(--text); font-family: Inter, system-ui, Arial, sans-serif; overflow: hidden; }
      #layout { display: grid; grid-template-columns: minmax(200px, 22vw) 1fr minmax(240px, 26vw); grid-template-rows: 100%; height: 100dvh; width: 100%; }
      #sidebar-left, #sidebar-right { background: #121416; padding: 12px; box-sizing: border-box; overflow: auto; }
      #sidebar-left h1 { font-size: 20px; margin: 6px 0 12px; color: var(--accent); }
      .card { background: var(--panel); border-radius: 8px; padding: 10px; margin-bottom: 12px; box-shadow: 0 0 0 1px rgba(255,255,255,0.04) inset; }
      .card.small h2 { font-size: 14px; margin: 4px 0 6px; }
      .card h2 { font-size: 16px; margin: 0 0 8px; color: #a9f0d8; }
      .row { display: flex; justify-content: space-between; align-items:center; font-size: 14px; color: var(--muted); padding: 2px 0; }
      .row strong { color: var(--text); }
      .ghost-list { display: flex; gap: 6px; flex-wrap: wrap; }
      .ghost-dot { width: 18px; height: 18px; border-radius: 50%; display:inline-block; box-shadow: 0 0 0 2px rgba(0,0,0,0.5) inset; }
      #center { display: grid; place-items: center; background: radial-gradient(1200px 700px at 50% 50%, #14181c, #0f1113); min-width: 0; overflow: hidden; }
      #game-root { width: 100%; height: 100%; max-width: 1800px; max-height: 100%; }
      canvas { image-rendering: auto; max-width: 100%; max-height: 100%; display: block; }
      /* Responsive adjustments for laptops */
      @media (max-width: 1360px) {
        #layout { grid-template-columns: minmax(180px, 18vw) 1fr minmax(200px, 22vw); }
        #sidebar-left { padding: 10px; }
        #sidebar-right { padding: 10px; }
        .row { font-size: 13px; }
        .card h2 { font-size: 15px; }
        #sidebar-left h1 { font-size: 18px; }
      }
      @media (max-width: 1200px) {
        #layout { grid-template-columns: minmax(160px, 20vw) 1fr 0; }
        #sidebar-right { display: none; }
        .row { font-size: 12px; }
        .card { padding: 8px; }
      }
      @media (max-height: 740px) {
        #sidebar-left, #sidebar-right { padding: 8px; }
        .card { margin-bottom: 8px; }
        .card h2 { font-size: 14px; }
      }
    </style>
  </body>
</html>
